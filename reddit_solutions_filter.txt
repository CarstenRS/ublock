! Title: Reddit Solutions filter
! Expires: 1 day (update frequency)
! Description: Filters for news sites (supports less sites than the extension/add-on)
! Homepage: https://raw.githubusercontent.com/CarstenRS/ublock/main/reddit_solutions_filter.txt
! License: MIT; https://www.reddit.com/r/uBlockOrigin/wiki/solutions/
! Source: https://www.reddit.com/r/uBlockOrigin/wiki/solutions/
! Last modified: 2024-07-12


! >> FACEBOOK (begin) <<

! Suggested for you
facebook.com##:is([aria-posinset],[aria-describedby]:not([aria-posinset])) div:not(:only-child)>div:only-child>div:only-child>div:first-child[class=""]>div:not([data-0]):has-text(/^Suggested/):upward([aria-posinset],[aria-describedby]:not([aria-posinset])):style(height: 0 !important; overflow: hidden !important;)

! Unlabelled Suggested posts (with a Follow/Join buttons)
facebook.com##:is([aria-posinset],[aria-describedby]:not([aria-posinset])) :is(h3,h4) [role=button]:has-text(/Follow|Join/):upward([aria-posinset],[aria-describedby]:not([aria-posinset])):style(height: 0 !important; overflow: hidden !important;)

! Use only if you actually have these: Suggested posts with the label next to the post date
www.facebook.com##:is([aria-posinset],[aria-describedby]:not([aria-posinset])):has-text(Suggested for you):style(height: 0 !important; overflow: hidden !important;)

! People You May Know
facebook.com##:is([aria-posinset],[aria-describedby]:not([aria-posinset])):has([href="/friends/"]):style(height: 0 !important; overflow: hidden !important;)

! Suggested groups
facebook.com##:is([aria-posinset],[aria-describedby]:not([aria-posinset])):has([href="/groups/discover/"]):style(height: 0 !important; overflow: hidden !important;)

! Reels and short videos (English UI)
facebook.com##:is([aria-posinset],[aria-describedby]:not([aria-posinset])):has([aria-label="Reels"]):style(height: 0 !important; overflow: hidden !important;)

! Suggested pages
facebook.com##:is([aria-posinset],[aria-describedby]:not([aria-posinset])):has([aria-label="Suggested pages"]):style(height: 0 !important; overflow: hidden !important;)

! Suggested for you (mobile)
facebook.com##[data-mcomponent="MScreen"]>div[class="m"]>div:has-text(Suggested for you)

! Marketplace
facebook.com##[aria-label*="Marketplace"] object > a[href^="/ads/"] > span:not(:empty):upward(11)
facebook.com##[aria-label*="Marketplace"] object:has(> a[href^="/ads/"] > span:has-text(/^Sponsored$/)):upward(a):upward(3)

! >> FACEBOOK (end) <<

! >>>>>>>>>>>><<<<<<<<<<

! >> GOOGLE (begin) <<

! Google consent, "before you continue"
google.*##^script:has-text(consentCookiePayload)
google.*##+js(acis, document.cookie, YES+)
google.*##+js(aeld, DOMContentLoaded, CONSENT)
||consent.google.com^

! "People also search for"
google.*##[id^="eob_"]


! Google login dialogs on various pages
||accounts.google.com/gsi/*$xhr,script,3p

! >> GOOGLE (end) <<

! >>>>>>>>>>>><<<<<<<<<<

! >> REDDIT (begin) <<

! Reddit app ad
reddit.com##.XPromoPopupRpl
reddit.com##xpromo-new-app-selector
reddit.com##.bottom-bar, .XPromoBottomBar
reddit.com##.useApp,.TopNav__promoButton
reddit.com##body:style(pointer-events:auto!important;)

! uBO Annoyances has also this:
! https://github.com/uBlockOrigin/uAssets/issues/6826
reddit.com##.XPromoPopup
reddit.com##body.scroll-disabled:style(overflow: visible!important; position: static!important;)
reddit.com##.XPromoInFeed
amp.reddit.com##.AppSelectorModal__body
amp.reddit.com##.upsell_banner

! extras:
reddit.com##xpromo-app-selector
reddit.com##body.scroll-is-blocked:style(overflow: visible!important; position: static!important;)
reddit.com##+js(aeld, touchmove)
reddit.com##.XPromoPopupRplNew
reddit.com##body[style*="pointer-events"]:style(pointer-events:auto!important;)
reddit.com##body[style*="overflow"]:style(overflow:auto!important;)

! Hide Reddit 'Top Broadcast Now' & 'Top livestream'
reddit.com##a[href^="/rpan/"] > h3:has-text(/Top (livestream|broadcast)/):upward(7)

! Block downloading. Please report back if does not work or causes issues
||strapi.reddit.com^$xhr,domain=reddit.com

! >> REDDIT (end) <<
